(function(){"use strict";if(window.MotorcycleRunner){console.warn("Motorcycle Runner already loaded");return}let V=null,W=!1,q=null;function P0(){const S=document.createElement("div");return S.id="motorcycle-runner-overlay",S.style.cssText=`
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.95);
            z-index: 999999;
            display: none;
            justify-content: center;
            align-items: center;
        `,S.innerHTML=`
            <style>
                #motorcycle-runner-container {
                    position: relative;
                    max-width: 100%;
                    max-height: 100%;
                }
                
                #motorcycle-runner-canvas {
                    border: 4px solid black;
                    background: linear-gradient(to bottom, #87ceeb 0%, #e0f6ff 50%, #c2b280 50%, #c2b280 100%);
                    display: block;
                    max-width: 100vw;
                    max-height: 100vh;
                    touch-action: none;
                    /* Prevent sub-pixel rendering gaps when CSS-scaled */
                    image-rendering: pixelated;
                    image-rendering: crisp-edges;
                }
                
                .motorcycle-game-overlay {
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    text-align: center;
                    background: rgba(0, 0, 0, 0.85);
                    padding: 30px 50px;
                    border: 4px solid lightgreen;
                    border-radius: 10px;
                    color: lightgreen;
                    display: none;
                    font-family: 'Courier New', monospace;
                }
                
                .motorcycle-game-overlay h2 {
                    margin: 0 0 20px 0;
                    font-size: 48px;
                    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
                }
                
                .motorcycle-game-overlay p {
                    margin: 10px 0;
                    font-size: 24px;
                }
                
                .motorcycle-game-overlay button {
                    margin-top: 20px;
                    padding: 15px 30px;
                    font-size: 20px;
                    background: lightgreen;
                    color: black;
                    border: 2px solid black;
                    cursor: pointer;
                    font-weight: bold;
                    font-family: 'Courier New', monospace;
                }
                
                .motorcycle-game-overlay button:hover {
                    background: rgba(210, 255, 0, 0.9);
                    transform: scale(1.05);
                }
                
                .motorcycle-instructions {
                    position: absolute;
                    top: 20px;
                    right: 20px;
                    color: lightgreen;
                    background: rgba(0, 0, 0, 0.7);
                    padding: 15px;
                    border: 2px solid lightgreen;
                    border-radius: 5px;
                    font-size: 14px;
                    font-family: 'Courier New', monospace;
                }
                
                .motorcycle-instructions h3 {
                    margin: 0 0 10px 0;
                    font-size: 18px;
                }
                
                .motorcycle-instructions p {
                    margin: 5px 0;
                }
                
                .motorcycle-close-button {
                    position: absolute;
                    top: 20px;
                    left: 20px;
                    background: rgba(255, 0, 0, 0.7);
                    color: white;
                    border: 2px solid white;
                    padding: 10px 20px;
                    font-size: 16px;
                    cursor: pointer;
                    font-weight: bold;
                    border-radius: 5px;
                    font-family: 'Courier New', monospace;
                }
                
                .motorcycle-close-button:hover {
                    background: rgba(255, 0, 0, 0.9);
                }
            </style>
            
            <div id="motorcycle-runner-container">
                <button class="motorcycle-close-button" id="motorcycle-close-btn">\u2715 Close (ESC)</button>
                
                <div class="motorcycle-instructions" id="motorcycle-instructions">
                    <h3>Controls</h3>
                    <p><strong>Desktop:</strong></p>
                    <p>SPACE or \u2191 - Jump</p>
                    <p>\u2193 - Duck</p>
                    <p><strong>Mobile:</strong></p>
                    <p>Tap Top Half - Jump</p>
                    <p>Hold Bottom Half - Duck</p>
                </div>
                
                <canvas id="motorcycle-runner-canvas" width="1000" height="400"></canvas>
                
                <div id="motorcycle-game-overlay" class="motorcycle-game-overlay">
                    <h2>GAME OVER</h2>
                    <p id="motorcycle-final-score">Score: 0</p>
                    <p id="motorcycle-daily-high-score">Best Today: 0</p>
                    <p id="motorcycle-all-time-high-score">Best Ever: 0</p>
                    <button id="motorcycle-restart-btn">RESTART</button>
                </div>
                
                <div id="motorcycle-orientation-overlay" class="motorcycle-game-overlay" style="display: none;">
                    <h2>\u{1F4F1} ROTATE DEVICE</h2>
                    <p>Please rotate your device to landscape mode to play</p>
                </div>
            </div>
        `,document.body.appendChild(S),S}function g0(){V||(V=P0(),setTimeout(v0,0)),V.style.display="flex",W=!0}function Q(){V&&(V.style.display="none",W=!1,q&&(cancelAnimationFrame(q),q=null))}document.addEventListener("keydown",function(S){if(S.code==="Space"&&!W){S.preventDefault(),g0();return}if(S.code==="Escape"&&W){S.preventDefault(),Q();return}});function v0(){const S=document.getElementById("motorcycle-close-btn");S.addEventListener("click",Q),window.addEventListener("motorcyclegamestart",()=>{S.style.display="none"}),window.addEventListener("motorcyclegameover",()=>{S.style.display="block"}),(function(){const T={TRANSPARENT:null,WHEEL:"#6a6a6a",BODY:"#333333",RIDER:"#999999",HELMET:"#ff0000",BIRD_BODY:"#654321",BIRD_WING:"#8b6914",VEHICLE_BODY:"#cc0000",VEHICLE_DETAIL:"#990000",VEHICLE_WINDOW:"#6688EB",GROUND_LINE:"#2d2d2d",CENTER_LINE:"#ffffff",TEXT:"#2d2d2d"},e0=[{body:"#cc0000",detail:"#990000"},{body:"#e8e8e8",detail:"#c0c0c0"},{body:"#8B4513",detail:"#654321"},{body:"#4169E1",detail:"#1E3A8A"}];let _0=-1;function I0(){let e;if(e0.length>1)do e=Math.floor(Math.random()*e0.length);while(e===_0);else e=0;return _0=e,e0[e]}function t0(e={body:T.VEHICLE_BODY,detail:T.VEHICLE_DETAIL}){return[T.TRANSPARENT,T.WHEEL,T.BODY,e.body,T.RIDER,T.HELMET,T.BIRD_BODY,T.BIRD_WING,e.detail,T.VEHICLE_WINDOW]}let B0=t0();const h={MOTORCYCLE_NORMAL:[[0,0,0,0,0,5,5,5,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,5,5,5,5,5,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,5,5,2,2,2,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,5,5,5,2,2,0,0,0,0,0,0,0,0,0,0,0],[2,0,0,0,0,5,5,5,5,0,0,0,0,0,0,0,0,0,0,0],[2,0,0,0,0,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0],[0,2,0,0,0,4,4,4,4,4,4,2,0,0,0,0,0,0,0,0],[0,2,0,0,0,4,4,4,0,0,0,0,2,0,0,0,0,0,0,0],[0,0,2,2,2,4,4,4,4,0,0,0,0,2,0,0,0,0,0,0],[0,2,2,2,2,4,4,4,4,4,2,2,2,2,1,0,0,0,0,0],[5,2,2,2,2,2,2,2,4,4,4,2,2,2,2,0,0,0,0,0],[0,1,1,2,2,2,2,2,2,4,4,2,2,2,2,2,1,1,1,0],[1,1,2,2,1,2,2,2,2,4,4,4,2,0,0,1,2,1,1,1],[1,1,2,1,1,0,0,0,0,0,2,2,0,0,0,1,1,2,1,1],[1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1],[0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0]],MOTORCYCLE_DUCK:[[0,0,0,0,0,0,5,5,5,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,5,5,2,2,2,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,5,5,5,2,2,0,0,0,0,0,0,0,0,0,0],[2,0,0,0,0,0,5,5,5,5,0,0,0,0,0,0,0,0,0,0],[0,2,0,0,0,0,4,4,4,4,4,2,0,0,0,0,0,0,0,0],[0,0,2,2,2,4,4,4,4,0,0,0,0,2,0,0,0,0,0,0],[0,2,2,2,2,4,4,4,4,4,2,2,2,2,1,0,0,0,0,0],[5,2,2,2,2,2,2,2,4,4,4,2,2,2,2,0,0,0,0,0],[0,1,1,2,2,2,2,2,2,4,4,2,2,2,2,2,1,1,1,0],[1,1,2,2,1,2,2,2,2,4,4,4,2,0,0,1,2,1,1,1],[1,1,2,1,1,0,0,0,0,0,2,2,0,0,0,1,1,2,1,1],[0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0]],CAR:[[0,0,0,0,0,0,8,8,8,8,8,0,0,0,0,0],[0,0,0,8,8,8,3,3,3,3,3,8,8,0,0,0],[0,0,0,9,3,9,9,3,9,9,9,3,9,0,0,0],[0,0,0,9,3,9,9,3,9,9,9,3,3,9,0,0],[0,0,9,3,9,9,9,3,9,9,9,9,3,3,9,0],[0,0,9,3,9,9,9,3,9,9,9,9,9,3,3,3],[3,3,3,3,3,3,3,8,3,3,3,3,3,3,3,3],[3,3,3,3,3,3,3,8,3,3,3,3,3,3,3,3],[0,1,1,1,3,3,3,8,3,3,3,1,1,1,0,0],[1,1,1,1,1,8,8,8,8,8,1,1,1,1,1,0],[1,1,1,1,1,0,0,0,0,0,1,1,1,1,1,0],[0,1,1,1,0,0,0,0,0,0,0,1,1,1,0,0]],TRUCK:[[0,0,0,0,0,0,3,3,3,3,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,8,3,3,3,3,3,0,0,0,0,0,0,0,0,0],[0,0,0,0,9,3,9,9,9,9,3,0,0,0,0,0,0,0,0,0],[0,0,0,0,9,3,9,9,9,9,3,0,0,0,0,0,0,0,0,0],[0,0,0,9,3,9,9,9,9,9,3,0,0,0,0,0,0,0,0,0],[0,0,0,9,3,9,9,9,9,9,3,8,8,8,8,8,8,8,8,0],[0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,8],[3,3,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,8],[0,1,1,1,1,3,3,3,3,3,3,3,3,3,3,1,1,1,1,8],[1,1,1,1,1,1,8,8,8,8,8,8,8,8,1,1,1,1,1,1],[1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1],[0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0]],VAN:[[0,0,0,0,0,0,8,8,8,8,8,8,8,8,8,8,8,8,8,8,0,0],[0,0,0,0,8,8,3,3,3,3,3,3,3,3,3,3,8,3,3,3,8,0],[0,0,0,9,3,9,9,9,3,3,3,3,3,3,3,8,3,9,9,3,3,8],[0,0,0,9,3,9,9,9,3,3,3,3,3,3,8,3,9,9,9,9,3,3],[0,0,9,3,9,9,9,9,3,3,3,3,3,8,3,3,9,9,9,9,3,3],[0,0,9,3,9,9,9,9,3,3,3,3,8,3,3,3,3,9,9,3,3,3],[3,3,3,3,3,3,3,3,3,3,3,8,3,3,3,3,3,3,3,3,3,3],[8,8,8,8,8,8,8,8,8,8,8,3,3,3,3,3,3,3,3,3,3,3],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,1,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,1,1,1,1,0],[1,1,1,1,1,1,8,8,8,8,8,8,8,8,8,8,1,1,1,1,1,1],[1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1],[0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0]],BUS:[[0,0,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,0],[0,8,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,8],[9,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3],[9,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3],[9,9,9,9,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3],[9,9,9,9,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3],[9,9,9,9,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[9,9,9,3,3,8,8,8,8,8,3,3,3,3,3,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],[9,9,3,3,3,8,9,8,9,8,3,3,3,3,8,3,3,3,3,3,8,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[9,9,3,3,3,8,9,8,9,8,3,3,3,8,3,3,3,3,3,8,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[3,3,3,3,3,8,3,8,3,8,3,3,8,3,3,3,3,3,8,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[3,1,1,1,1,8,3,8,3,8,8,8,8,8,8,8,8,8,8,8,8,8,8,3,3,3,3,3,1,1,1,1,3,3,3,1,1,1,1,3],[1,1,8,8,1,1,3,8,3,8,3,3,3,3,3,3,3,3,8,3,3,3,3,8,3,3,3,1,1,8,8,1,1,3,1,1,8,8,1,1],[1,1,8,8,1,1,3,8,3,8,3,3,3,3,3,3,3,3,3,8,3,3,3,3,8,3,3,1,1,8,8,1,1,3,1,1,8,8,1,1],[1,1,1,1,1,1,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1,1,1,1,1,1,8,1,1,1,1,1,1],[0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,1,1,1,1,0]],SEMI_TRUCK:[[0,0,0,8,8,8,8,8,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,0],[0,0,8,3,3,3,3,3,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,9,3,9,9,9,3,3,0,8,8,8,8,8,8,8,8,8,8,8,8,8,8,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,9,3,9,9,9,3,3,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,8,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,9,3,9,9,9,3,3,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,8,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,9,3,9,9,9,3,3,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,8,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[9,3,9,9,9,9,3,3,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,3],[9,3,9,9,9,9,3,3,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[3,3,3,3,3,3,3,3,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[8,3,3,3,3,3,3,3,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[8,3,3,3,3,3,3,3,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[8,3,3,3,3,3,3,3,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[3,1,1,1,1,3,3,3,3,0,0,0,0,0,0,1,1,1,1,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1,1,1,1,8,8,8,0],[1,1,1,1,1,1,3,3,3,3,3,3,3,3,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0],[1,1,8,8,1,1,3,3,3,3,3,3,3,3,1,1,8,8,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,8,8,1,1,0,0,0],[1,1,1,1,1,1,8,8,8,8,8,8,8,8,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0],[0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0]],BIRD_UP:[[0,0,0,0,0,0,0,6,0,0,0,0],[0,0,0,0,6,6,6,6,0,0,0,0],[0,0,6,6,6,6,6,0,0,0,0,0],[7,7,6,6,6,7,7,7,7,7,7,0],[0,7,7,7,7,7,7,7,0,0,0,0],[0,0,0,0,7,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0]],BIRD_DOWN:[[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,7,7,7,7,7,7,7,0,0,0,0],[7,7,6,6,6,7,7,7,7,7,7,0],[0,0,6,6,6,6,6,7,0,0,0,0],[0,0,0,0,6,6,6,6,0,0,0,0],[0,0,0,0,0,0,0,6,0,0,0,0]],BILLBOARD:[[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},S0="v0.35",c=document.getElementById("motorcycle-runner-canvas"),i=c.getContext("2d");i.imageSmoothingEnabled=!1;const i0=document.getElementById("motorcycle-game-overlay"),b0=document.getElementById("motorcycle-final-score"),Y0=document.getElementById("motorcycle-daily-high-score"),G0=document.getElementById("motorcycle-all-time-high-score"),H0=document.getElementById("motorcycle-restart-btn"),T0=document.getElementById("motorcycle-orientation-overlay"),u0=document.getElementById("motorcycle-instructions"),n={INITIAL_SPEED:6,SPEED_INCREMENT:.5,SPEED_INCREASE_INTERVAL:300,SURVIVAL_POINTS_INTERVAL:5,VEHICLE_POINTS:50,RIDEABLE_VEHICLE_POINTS:100,FLYING_OBSTACLE_POINTS:75,RIDEABLE_VEHICLE_MIN_SCORE:300,FLYING_OBSTACLE_MIN_SCORE:100,DAY_NIGHT_BONUS:500,OBSTACLE_MIN_INTERVAL:60,OBSTACLE_MAX_INTERVAL:120,OBSTACLE_INTERVAL_DECREASE_RATE:.5,OBSTACLE_MIN_INTERVAL_CAP:40,GROUND_INTERVAL_MIN_SPACING:30,OBSTACLE_RETRY_DELAY:20,FLYING_OBSTACLE_MIN_INTERVAL:100,FLYING_OBSTACLE_MAX_INTERVAL:200,FLYING_OBSTACLE_SPEED_MULTIPLIER:1.2,FLYING_INTERVAL_MIN_CAP:60,FLYING_INTERVAL_MIN_SPACING:50,BIRD_WING_FLAP_FRAME_INTERVAL:10,SAFE_DISTANCE_BIRD_VEHICLE:300,FAST_FALL_GRAVITY:2.5,HITBOX_SIZE_RATIO:.7,SPRITE_SCALE:3,VEHICLE_SPRITE_SCALE:4,PARTICLE_SPAWN_INTERVAL:5,COLLISION_FLASH_DURATION:10,BONUS_MESSAGE_DURATION:300,GROUND_ROAD_WIDTH:40,GROUND_DASH_SPACING:40,GROUND_DASH_LENGTH:20,CENTER_LINE_WIDTH:3,SKY_DAY_COLOR:"#87CEEB",SKY_NIGHT_COLOR:"#1a1a2e",SKY_TRANSITION_SPEED:.01,SUN_Y_POSITION:60,SUN_RADIUS:30,SUN_MOON_SPEED:.5,SUN_START_X:100,MOON_CRESCENT_OFFSET:12,STAR_COUNT:50,STAR_MIN_SIZE:.5,STAR_MAX_SIZE:2,STAR_MIN_SPEED:.05,STAR_MAX_SPEED:.15,STAR_MIN_OPACITY:.5,STAR_MAX_OPACITY:1,SPEEDOMETER_RADIUS:40,SPEEDOMETER_MARGIN:15,SPEEDOMETER_MIN_SPEED:6,SPEEDOMETER_MAX_SPEED:20,SPEEDOMETER_REDLINE_START:.7,DEBUG_MODE:!1},n0=new Map;function V0(e,t=n.SPRITE_SCALE,l=!1,r=null){const a=r||B0,E=r?r[3]+r[8]:"default",s=e+"_"+t+"_"+(l?"f":"n")+"_"+E;if(!n0.has(s)){const _=e[0].length*t,B=e.length*t,D=document.createElement("canvas");D.width=_,D.height=B;const C=D.getContext("2d");C.imageSmoothingEnabled=!1,l&&(C.translate(_,0),C.scale(-1,1));for(let A=0;A<e.length;A++)for(let x=0;x<e[A].length;x++){const H=e[A][x];H!==0&&(C.fillStyle=a[H],C.fillRect(x*t,A*t,t,t))}n0.set(s,D)}return n0.get(s)}function K(e,t,l,r=n.SPRITE_SCALE,a=!1,E=null){const s=V0(e,r,a,E);i.drawImage(s,Math.floor(t),Math.floor(l))}function N(e,t=n.SPRITE_SCALE){return{width:e[0].length*t,height:e.length*t}}const y={WAITING:"waiting",PLAYING:"playing",GAME_OVER:"gameOver"};let m=y.WAITING,f=0,o0=parseInt(localStorage.getItem("motorcycleHighScore"))||0,P=0,U=parseInt(localStorage.getItem("motorcycleAllTimeHighScore"))||0;function U0(){const e=new Date().toDateString();localStorage.getItem("motorcycleLastPlayDate")===e?P=parseInt(localStorage.getItem("motorcycleDailyHighScore"))||0:(P=0,localStorage.setItem("motorcycleLastPlayDate",e),localStorage.setItem("motorcycleDailyHighScore","0"))}U0();let d=0,M=n.INITIAL_SPEED,k=0,b=0,z=0,J=0,l0=n.OBSTACLE_MAX_INTERVAL,r0=n.FLYING_OBSTACLE_MAX_INTERVAL,a0=-1e3,c0=600;const A0=[["Eastside","Harley"],["Emerald City","Harley"],["Harley","Davidson","Motorcycles"],["Life is","short, roads","are long."],["Two wheels,","One love","#BikerLife"],["YOU GOT","THIS!"],["Eat. Sleep.","Ride.","Repeat."],["NICE","MOVES!"],["LEGENDARY!"],["STAY","FOCUSED!"],["KEEP","GOING!"],["RIDE ON!"],["SKILLED","RIDER!"],["TOO FAST!"],["BEAST","MODE!"],["DANGER","ZONE!"]],o={x:50,y:c.height-140,velocityY:0,gravity:.8,jumpPower:-15,isJumping:!1,isDucking:!1,groundY:c.height-140,duckHeight:40,normalHeight:60,isRidingVehicle:!1,ridingVehicle:null};let u=[];function k0(){const e=n.VEHICLE_SPRITE_SCALE;return[{sprite:"CAR",...N(h.CAR,e),type:"vehicle",rideable:!1},{sprite:"TRUCK",...N(h.TRUCK,e),type:"vehicle",rideable:!1},{sprite:"VAN",...N(h.VAN,e),type:"vehicle",rideable:!1},{sprite:"BUS",...N(h.BUS,e),type:"vehicle",rideable:!0},{sprite:"SEMI_TRUCK",...N(h.SEMI_TRUCK,e),type:"vehicle",rideable:!0}]}const Z=k0();let p=[];const s0={...N(h.BIRD_UP),heightVariations:[-140,-120,-100,-60,-40]};let w=[];const R=c.height-80;let L=c.width-100,O=!1,E0=!1,$=!1,I=0;const g={DAY:n.SKY_DAY_COLOR,NIGHT:n.SKY_NIGHT_COLOR,TEXT_DAY:"#2d2d2d",TEXT_NIGHT:"#ffffff",SUN_CORE:"#FFD700",SUN_GLOW:["rgba(255, 255, 150, 0.8)","rgba(255, 220, 100, 0.4)","rgba(255, 200, 80, 0.2)","rgba(255, 180, 60, 0)"],MOON:"#F0E68C",STAR:"rgba(255, 255, 255, {opacity})"};let F=[],Y=[],X=[];function v(e,t,l){const r=parseInt(e.slice(1),16),a=parseInt(t.slice(1),16),E=r>>16&255,s=r>>8&255,_=r&255,B=a>>16&255,D=a>>8&255,C=a&255,A=Math.round(E+(B-E)*l),x=Math.round(s+(D-s)*l),H=Math.round(_+(C-_)*l);return`#${(A<<16|x<<8|H).toString(16).padStart(6,"0")}`}class F0{constructor(t,l,r,a,E,s){this.x=t,this.y=l,this.vx=r,this.vy=a,this.color=E,this.life=s,this.maxLife=s,this.size=2}update(){return this.x+=this.vx,this.y+=this.vy,this.vy+=.1,this.life--,this.life>0}draw(){const t=this.life/this.maxLife;i.globalAlpha=t,i.fillStyle=this.color,i.fillRect(this.x,this.y,this.size,this.size),i.globalAlpha=1}}class X0{constructor(t,l,r,a=n.BONUS_MESSAGE_DURATION){this.text=t,this.x=l,this.y=r,this.initialY=r,this.duration=a,this.maxDuration=a,this.vy=-.3,this.maxUpwardMovement=40}update(){return this.initialY-this.y<this.maxUpwardMovement&&(this.y+=this.vy),this.duration--,this.duration>0}draw(){let t=1;const l=this.maxDuration*.05,r=this.maxDuration*.475;this.maxDuration-this.duration<l?t=(this.maxDuration-this.duration)/l:this.duration<r&&(t=this.duration/r),i.save(),i.globalAlpha=t,i.font="bold 48px monospace",i.textAlign="center",i.textBaseline="middle",i.fillStyle=v(g.TEXT_DAY,g.TEXT_NIGHT,I),i.fillText(this.text,this.x,this.y),i.restore()}}function W0(){d%n.PARTICLE_SPAWN_INTERVAL===0&&!o.isJumping&&Y.push(new F0(o.x+10,R+5,-2-Math.random()*2,-1-Math.random()*2,"rgb(194, 178, 128)",20))}function K0(){for(let e=Y.length-1;e>=0;e--)Y[e].update()||Y.splice(e,1)}function z0(){Y.forEach(e=>e.draw())}const G={};function d0(e){return e[Math.floor(Math.random()*e.length)]}function y0(e,t=n.HITBOX_SIZE_RATIO,l=null,r=null){const a=e.width*t,E=e.height*t;return{width:a,height:E,offsetX:l!==null?l:(e.width-a)/2,offsetY:r!==null?r:(e.height-E)/2}}function p0(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}const J0=N(h.MOTORCYCLE_NORMAL),Z0=N(h.MOTORCYCLE_DUCK),$0=y0(J0,n.HITBOX_SIZE_RATIO,1,4),j0=y0(Z0,n.HITBOX_SIZE_RATIO,1,3);function R0(){const e=o.isDucking?j0:$0;return{x:o.x+e.offsetX,y:o.y+e.offsetY,width:e.width,height:e.height}}function N0(e,t,l,r){const a=Math.floor(d/n.SPEED_INCREASE_INTERVAL),E=Math.max(l,e-a*n.OBSTACLE_INTERVAL_DECREASE_RATE),s=Math.max(E+r,t-a*n.OBSTACLE_INTERVAL_DECREASE_RATE);return Math.random()*(s-E)+E}function m0(e){if(e.length===0)return!1;const t=e[e.length-1],l=t.x+t.width;return c.width-l<n.SAFE_DISTANCE_BIRD_VEHICLE||c.width-a0<n.SAFE_DISTANCE_BIRD_VEHICLE+200}function L0(){!o.isJumping&&!o.isDucking&&(o.velocityY=o.jumpPower,o.isJumping=!0,o.isRidingVehicle&&(o.isRidingVehicle=!1,o.ridingVehicle=null))}document.addEventListener("keydown",e=>{G[e.code]=!0,m===y.WAITING&&e.code==="Space"&&f0(),m===y.PLAYING&&(e.code==="Space"||e.code==="ArrowUp")&&L0(),["Space","ArrowUp","ArrowDown"].includes(e.code)&&e.preventDefault()}),document.addEventListener("keyup",e=>{G[e.code]=!1});let h0=!1;c.addEventListener("touchstart",e=>{if(e.preventDefault(),m===y.WAITING){f0();return}if(m===y.PLAYING){const t=e.touches[0],l=c.getBoundingClientRect(),r=t.clientY-l.top,a=l.height/2;r>a?(h0=!0,G.ArrowDown=!0):L0()}}),c.addEventListener("touchend",e=>{e.preventDefault(),h0&&(G.ArrowDown=!1,h0=!1)}),H0.addEventListener("click",()=>{i0.style.display="none",u0.style.display="block",f0()});function f0(){j()&&(m=y.PLAYING,u0.style.display="none",window.dispatchEvent(new CustomEvent("motorcyclegamestart")),f=0,d=0,L=c.width-n.SUN_START_X,O=!1,E0=!1,$=!1,I=0,F=[],M=n.INITIAL_SPEED,u=[],p=[],w=[],Y=[],X=[],k=0,b=0,o.y=o.groundY,o.velocityY=0,o.isJumping=!1,o.isDucking=!1,o.isRidingVehicle=!1,o.ridingVehicle=null,z=n.OBSTACLE_MAX_INTERVAL,J=n.FLYING_OBSTACLE_MAX_INTERVAL+n.FLYING_OBSTACLE_MIN_SCORE,l0=n.OBSTACLE_MAX_INTERVAL,r0=n.FLYING_OBSTACLE_MAX_INTERVAL,a0=-1e3,c0=900,i0.style.display="none",w0())}function O0(e,t,l){const r=Math.floor(Math.random()*(l-t+1))+t,a=Z.filter(s=>s.sprite==="CAR"||s.sprite==="TRUCK"||s.sprite==="VAN");let E=e.x+e.width;for(let s=0;s<r;s++){const _=d0(a),B=I0(),D=t0(B),A=E+30;u.push({x:A,y:R-_.height,width:_.width,height:_.height,sprite:_.sprite,type:_.type,rideable:_.rideable,flipH:!1,palette:D}),E=A+_.width}a0=E}function q0(){if(d>=z)if(m0(p))z=d+n.OBSTACLE_RETRY_DELAY;else{let e=Z;f>=n.RIDEABLE_VEHICLE_MIN_SCORE?e=Z:e=Z.filter(s=>!s.rideable);const t=d0(e),l=I0(),r=t0(l),a={x:c.width,y:R-t.height,width:t.width,height:t.height,sprite:t.sprite,type:t.type,rideable:t.rideable,flipH:!1,palette:r};u.push(a);const E=d/60;if(E>=15&&t.sprite==="SEMI_TRUCK"){const s=E>=60?3:2;O0(a,1,s)}if(E>=30&&t.sprite==="BUS"){const s=E>=60?3:2;O0(a,1,s)}l0=N0(n.OBSTACLE_MIN_INTERVAL,n.OBSTACLE_MAX_INTERVAL,n.OBSTACLE_MIN_INTERVAL_CAP,n.GROUND_INTERVAL_MIN_SPACING),z=d+l0}if(f>n.FLYING_OBSTACLE_MIN_SCORE&&d>=J)if(m0(u))J=d+n.OBSTACLE_RETRY_DELAY;else{const e=d0(s0.heightVariations);p.push({x:c.width,y:R+e,width:s0.width,height:s0.height,wingFrame:0}),r0=N0(n.FLYING_OBSTACLE_MIN_INTERVAL,n.FLYING_OBSTACLE_MAX_INTERVAL,n.FLYING_INTERVAL_MIN_CAP,n.FLYING_INTERVAL_MIN_SPACING),J=d+r0}if(d>=c0){const e=N(h.BILLBOARD),t=A0[Math.floor(Math.random()*A0.length)];w.push({x:c.width,y:R-e.height-20,width:e.width,height:e.height,message:t}),c0=d+900}}function Q0(){const e=M*1.3;for(let t=u.length-1;t>=0;t--)if(u[t].x-=e,u[t].x+u[t].width<0){const l=u[t].rideable?n.RIDEABLE_VEHICLE_POINTS:n.VEHICLE_POINTS;u.splice(t,1),f+=l}for(let t=p.length-1;t>=0;t--)p[t].x-=M*n.FLYING_OBSTACLE_SPEED_MULTIPLIER,p[t].wingFrame=Math.floor(d/n.BIRD_WING_FLAP_FRAME_INTERVAL)%2,p[t].x+p[t].width<0&&(p.splice(t,1),f+=n.FLYING_OBSTACLE_POINTS);for(let t=w.length-1;t>=0;t--)w[t].x-=M*.7,w[t].x+w[t].width<0&&w.splice(t,1)}function ee(){if(o.isRidingVehicle&&o.ridingVehicle){const e=o.ridingVehicle;if(e.x+e.width<o.x)o.isRidingVehicle=!1,o.ridingVehicle=null,o.isJumping=!0,o.velocityY=0;else{const l=o.isDucking?o.duckHeight:o.normalHeight;o.y=e.y-l-1}}if(!o.isRidingVehicle&&G.ArrowDown&&!o.isJumping?(o.isDucking=!0,o.y=o.groundY+(o.normalHeight-o.duckHeight)):!o.isJumping&&!o.isRidingVehicle&&(o.isDucking=!1,o.y=o.groundY),o.isJumping){const e=G.ArrowDown?n.FAST_FALL_GRAVITY:o.gravity;o.velocityY+=e,o.y+=o.velocityY,o.y>=o.groundY&&(o.y=o.groundY,o.velocityY=0,o.isJumping=!1,o.isRidingVehicle=!1,o.ridingVehicle=null,b=8)}b>0&&b--}function te(){const e=R0();for(let t of u){if(t.rideable&&o.isJumping&&o.velocityY>0&&e.x+e.width>t.x&&e.x<t.x+t.width&&e.y+e.height<=t.y+10&&e.y+e.height>=t.y-5){o.isRidingVehicle=!0,o.ridingVehicle=t,o.isJumping=!1,o.velocityY=0;continue}if(!o.isRidingVehicle&&p0(e,t)){C0();return}}for(let t of p)if(p0(e,t)){C0();return}}function C0(){m=y.GAME_OVER,k=n.COLLISION_FLASH_DURATION,f>o0&&(o0=f,localStorage.setItem("motorcycleHighScore",o0)),f>P&&(P=f,localStorage.setItem("motorcycleDailyHighScore",P)),f>U&&(U=f,localStorage.setItem("motorcycleAllTimeHighScore",U)),b0.textContent=`Score: ${f}`,Y0.textContent=`Best Today: ${P}`,G0.textContent=`Best Ever: ${U}`,i0.style.display="block",window.dispatchEvent(new CustomEvent("motorcyclegameover"))}function D0(){const e=o.isDucking||b>0?h.MOTORCYCLE_DUCK:h.MOTORCYCLE_NORMAL;let t=o.y;if(b>0&&!o.isDucking){const l=N(h.MOTORCYCLE_NORMAL).height,r=N(h.MOTORCYCLE_DUCK).height;t+=l-r}k>0&&(k%2===0&&(i.globalAlpha=.3),k--),K(e,o.x,t),i.globalAlpha=1}function ie(){u.forEach(e=>{const t=h[e.sprite];t&&K(t,e.x,e.y,n.VEHICLE_SPRITE_SCALE,e.flipH,e.palette)}),p.forEach(e=>{const t=e.wingFrame===0?h.BIRD_UP:h.BIRD_DOWN;K(t,e.x,e.y)})}function ne(){w.forEach(e=>{K(h.BILLBOARD,e.x,e.y),i.fillStyle="#f5f5f5";const t=6;i.fillRect(e.x+t,e.y+t,e.width-t*2,e.height-t*2-30),i.fillStyle="#2d2d2d",i.font="bold 23px Courier New",i.textAlign="center",i.textBaseline="middle";const l=e.x+e.width/2,r=e.height-30,a=e.y+r/2;e.message.length===1?i.fillText(e.message[0],l,a):e.message.length===2?(i.fillText(e.message[0],l,a-12),i.fillText(e.message[1],l,a+12)):e.message.length===3&&(i.fillText(e.message[0],l,a-18),i.fillText(e.message[1],l,a),i.fillText(e.message[2],l,a+18)),i.textBaseline="alphabetic"})}function oe(){const e=n.SUN_Y_POSITION,t=n.SUN_RADIUS;if(O)i.fillStyle=g.MOON,i.beginPath(),i.arc(L,e,t,0,Math.PI*2),i.fill(),i.fillStyle=v(g.DAY,g.NIGHT,I),i.beginPath(),i.arc(L+n.MOON_CRESCENT_OFFSET,e,t,0,Math.PI*2),i.fill();else{const l=i.createRadialGradient(L,e,t*.3,L,e,t*2);l.addColorStop(0,g.SUN_GLOW[0]),l.addColorStop(.3,g.SUN_GLOW[1]),l.addColorStop(.6,g.SUN_GLOW[2]),l.addColorStop(1,g.SUN_GLOW[3]),i.fillStyle=l,i.beginPath(),i.arc(L,e,t*2,0,Math.PI*2),i.fill(),i.fillStyle=g.SUN_CORE,i.beginPath(),i.arc(L,e,t,0,Math.PI*2),i.fill()}}function le(){O&&F.forEach(e=>{i.fillStyle=`rgba(255, 255, 255, ${e.opacity})`,i.beginPath(),i.arc(e.x,e.y,e.size,0,Math.PI*2),i.fill()})}function re(){O&&F.forEach(e=>{e.x-=e.speed,e.x<-10&&(e.x=c.width+10)})}function ae(){L-=n.SUN_MOON_SPEED,L<=n.SUN_START_X&&(O=!O,O&&ce(),L=c.width-n.SUN_START_X,E0!==O&&f>0&&($=!0),E0=O);const e=O?1:0;if(I<e?I=Math.min(I+n.SKY_TRANSITION_SPEED,e):I>e&&(I=Math.max(I-n.SKY_TRANSITION_SPEED,e)),$&&I===e){f+=n.DAY_NIGHT_BONUS;const t=c.width/2,l=R/3;X.push(new X0("Bonus +500",t,l)),$=!1}re()}function ce(){F=[];for(let e=0;e<n.STAR_COUNT;e++)F.push({x:Math.random()*c.width,y:Math.random()*(R-100),size:Math.random()*(n.STAR_MAX_SIZE-n.STAR_MIN_SIZE)+n.STAR_MIN_SIZE,speed:Math.random()*(n.STAR_MAX_SPEED-n.STAR_MIN_SPEED)+n.STAR_MIN_SPEED,opacity:Math.random()*(n.STAR_MAX_OPACITY-n.STAR_MIN_OPACITY)+n.STAR_MIN_OPACITY})}function x0(){i.strokeStyle=T.GROUND_LINE,i.lineWidth=n.GROUND_ROAD_WIDTH,i.beginPath(),i.moveTo(0,R),i.lineTo(c.width,R),i.stroke(),i.strokeStyle=T.CENTER_LINE,i.lineWidth=n.CENTER_LINE_WIDTH,i.beginPath();const e=d*M%n.GROUND_DASH_SPACING;for(let t=-e;t<c.width;t+=n.GROUND_DASH_SPACING)i.moveTo(t,R),i.lineTo(t+n.GROUND_DASH_LENGTH,R);i.stroke()}function se(){i.fillStyle=v(g.TEXT_DAY,g.TEXT_NIGHT,I),i.font="bold 18px Courier New",i.textAlign="center",i.fillText(`Score: ${f}`,c.width/2,30),i.font="12px Courier New",i.fillText(`Best Today: ${P}`,c.width/2,46),i.fillText(`Best Ever: ${U}`,c.width/2,62),n.DEBUG_MODE&&(i.font="bold 18px Courier New",i.textAlign="left",i.fillText(`Speed: ${M.toFixed(1)}`,20,30))}function Ee(){i.fillStyle=v(g.TEXT_DAY,g.TEXT_NIGHT,I),i.font="14px Courier New",i.textAlign="right",i.fillText(S0,c.width-10,c.height-10)}function de(){const e=n.SPEEDOMETER_RADIUS,t=n.SPEEDOMETER_MARGIN,l=e+t,r=c.height-t,a=220*Math.PI/180,E=320*Math.PI/180,s=E-a,_=a+s*n.SPEEDOMETER_REDLINE_START;i.beginPath(),i.arc(l,r,e,a,_),i.lineTo(l,r),i.closePath(),i.fillStyle="rgba(100, 100, 100, 0.6)",i.fill(),i.beginPath(),i.arc(l,r,e,_,E),i.lineTo(l,r),i.closePath(),i.fillStyle="rgba(200, 50, 50, 0.7)",i.fill(),i.beginPath(),i.arc(l,r,e,a,E),i.strokeStyle=v("#333333","#cccccc",I),i.lineWidth=3,i.stroke();const B=n.SPEEDOMETER_MAX_SPEED-n.SPEEDOMETER_MIN_SPEED,C=.1+Math.min(1,(M-n.SPEEDOMETER_MIN_SPEED)/B)*.9,A=a+s*C,x=e-8,H=l+Math.cos(A)*x,Ie=r+Math.sin(A)*x;i.beginPath(),i.moveTo(l,r),i.lineTo(H,Ie),i.strokeStyle="#ffffff",i.lineWidth=3,i.stroke(),i.beginPath(),i.arc(l,r,5,0,Math.PI*2),i.fillStyle=v("#333333","#cccccc",I),i.fill()}function he(){if(!n.DEBUG_MODE)return;const e=R0();i.strokeStyle="rgba(255, 0, 0, 0.5)",i.lineWidth=2,i.strokeRect(e.x,e.y,e.width,e.height),i.strokeStyle="rgba(0, 255, 0, 0.5)",u.forEach(t=>{i.strokeRect(t.x,t.y,t.width,t.height)}),p.forEach(t=>{i.strokeRect(t.x,t.y,t.width,t.height)})}function fe(){i.fillStyle=T.TEXT,i.font="bold 32px Courier New",i.textAlign="center",i.fillText("Press SPACE to Start",c.width/2,c.height/2-50),i.font="12px Courier New",i.fillText(S0,c.width/2,c.height/2-10),x0(),D0()}function M0(){if(i.clearRect(0,0,c.width,c.height),i.fillStyle=v(g.DAY,g.NIGHT,I),i.fillRect(0,0,c.width,R),m===y.WAITING){fe();return}le(),oe(),ne(),x0(),z0(),D0(),ie(),X.forEach(e=>e.draw()),se(),de(),Ee(),he()}function ge(){if(m===y.PLAYING){if(d++,ae(),d%n.SURVIVAL_POINTS_INTERVAL===0&&f++,d%n.SPEED_INCREASE_INTERVAL===0){const t=d/60>=30?n.SPEED_INCREMENT*.5:n.SPEED_INCREMENT;M+=t}ee(),Q0(),q0(),W0(),K0(),X=X.filter(e=>e.update()),te()}}function _e(){return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)?screen.orientation&&screen.orientation.type?screen.orientation.type.includes("landscape"):window.orientation!==void 0?Math.abs(window.orientation)===90:window.innerWidth>window.innerHeight:!0}function j(){return _e()?(T0.style.display="none",!0):(T0.style.display="block",m===y.PLAYING&&(m=y.WAITING),!1)}function w0(){ge(),M0(),m===y.PLAYING&&requestAnimationFrame(w0)}M0(),j(),window.addEventListener("orientationchange",j),window.addEventListener("resize",j)})()}window.MotorcycleRunner={show:g0,hide:Q,version:"0.12"},console.log("Motorcycle Runner loaded. Press SPACEBAR to play!")})();
