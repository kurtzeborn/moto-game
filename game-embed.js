(function(){"use strict";if(window.MotorcycleRunner){console.warn("Motorcycle Runner already loaded");return}let b=null,X=!1,q=null;function v0(){const _=document.createElement("div");return _.id="motorcycle-runner-overlay",_.style.cssText=`
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.95);
            z-index: 999999;
            display: none;
            justify-content: center;
            align-items: center;
        `,_.innerHTML=`
            <style>
                #motorcycle-runner-container {
                    position: relative;
                    max-width: 100%;
                    max-height: 100%;
                }
                
                #motorcycle-runner-canvas {
                    border: 4px solid black;
                    background: linear-gradient(to bottom, #87ceeb 0%, #e0f6ff 50%, #c2b280 50%, #c2b280 100%);
                    display: block;
                    max-width: 100vw;
                    max-height: 100vh;
                    touch-action: none;
                }
                
                .motorcycle-game-overlay {
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    text-align: center;
                    background: rgba(0, 0, 0, 0.85);
                    padding: 30px 50px;
                    border: 4px solid lightgreen;
                    border-radius: 10px;
                    color: lightgreen;
                    display: none;
                    font-family: 'Courier New', monospace;
                }
                
                .motorcycle-game-overlay h2 {
                    margin: 0 0 20px 0;
                    font-size: 48px;
                    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
                }
                
                .motorcycle-game-overlay p {
                    margin: 10px 0;
                    font-size: 24px;
                }
                
                .motorcycle-game-overlay button {
                    margin-top: 20px;
                    padding: 15px 30px;
                    font-size: 20px;
                    background: lightgreen;
                    color: black;
                    border: 2px solid black;
                    cursor: pointer;
                    font-weight: bold;
                    font-family: 'Courier New', monospace;
                }
                
                .motorcycle-game-overlay button:hover {
                    background: rgba(210, 255, 0, 0.9);
                    transform: scale(1.05);
                }
                
                .motorcycle-instructions {
                    position: absolute;
                    top: 20px;
                    right: 20px;
                    color: lightgreen;
                    background: rgba(0, 0, 0, 0.7);
                    padding: 15px;
                    border: 2px solid lightgreen;
                    border-radius: 5px;
                    font-size: 14px;
                    font-family: 'Courier New', monospace;
                }
                
                .motorcycle-instructions h3 {
                    margin: 0 0 10px 0;
                    font-size: 18px;
                }
                
                .motorcycle-instructions p {
                    margin: 5px 0;
                }
                
                .motorcycle-close-button {
                    position: absolute;
                    top: 20px;
                    left: 20px;
                    background: rgba(255, 0, 0, 0.7);
                    color: white;
                    border: 2px solid white;
                    padding: 10px 20px;
                    font-size: 16px;
                    cursor: pointer;
                    font-weight: bold;
                    border-radius: 5px;
                    font-family: 'Courier New', monospace;
                }
                
                .motorcycle-close-button:hover {
                    background: rgba(255, 0, 0, 0.9);
                }
            </style>
            
            <div id="motorcycle-runner-container">
                <button class="motorcycle-close-button" id="motorcycle-close-btn">\u2715 Close (ESC)</button>
                
                <div class="motorcycle-instructions" id="motorcycle-instructions">
                    <h3>Controls</h3>
                    <p><strong>Desktop:</strong></p>
                    <p>SPACE or \u2191 - Jump</p>
                    <p>\u2193 - Duck</p>
                    <p><strong>Mobile:</strong></p>
                    <p>Tap Top Half - Jump</p>
                    <p>Hold Bottom Half - Duck</p>
                </div>
                
                <canvas id="motorcycle-runner-canvas" width="1000" height="400"></canvas>
                
                <div id="motorcycle-game-overlay" class="motorcycle-game-overlay">
                    <h2>GAME OVER</h2>
                    <p id="motorcycle-final-score">Score: 0</p>
                    <p id="motorcycle-daily-high-score">Best Today: 0</p>
                    <p id="motorcycle-all-time-high-score">Best Ever: 0</p>
                    <button id="motorcycle-restart-btn">RESTART</button>
                </div>
                
                <div id="motorcycle-orientation-overlay" class="motorcycle-game-overlay" style="display: none;">
                    <h2>\u{1F4F1} ROTATE DEVICE</h2>
                    <p>Please rotate your device to landscape mode to play</p>
                </div>
            </div>
        `,document.body.appendChild(_),_}function g0(){b||(b=v0(),setTimeout(B0,0)),b.style.display="flex",X=!0}function Q(){b&&(b.style.display="none",X=!1,q&&(cancelAnimationFrame(q),q=null))}document.addEventListener("keydown",function(_){if(_.code==="Space"&&!X){_.preventDefault(),g0();return}if(_.code==="Escape"&&X){_.preventDefault(),Q();return}});function B0(){const _=document.getElementById("motorcycle-close-btn");_.addEventListener("click",Q),window.addEventListener("motorcyclegamestart",()=>{_.style.display="none"}),window.addEventListener("motorcyclegameover",()=>{_.style.display="block"}),(function(){const I={TRANSPARENT:null,WHEEL:"#6a6a6a",BODY:"#333333",RIDER:"#999999",HELMET:"#ff0000",BIRD_BODY:"#654321",BIRD_WING:"#8b6914",VEHICLE_BODY:"#cc0000",VEHICLE_DETAIL:"#990000",VEHICLE_WINDOW:"#6688EB",GROUND_LINE:"#2d2d2d",CENTER_LINE:"#ffffff",TEXT:"#2d2d2d"},e0=[{body:"#cc0000",detail:"#990000"},{body:"#e8e8e8",detail:"#c0c0c0"},{body:"#8B4513",detail:"#654321"},{body:"#4169E1",detail:"#1E3A8A"}];let _0=-1;function I0(){let e;if(e0.length>1)do e=Math.floor(Math.random()*e0.length);while(e===_0);else e=0;return _0=e,e0[e]}function t0(e={body:I.VEHICLE_BODY,detail:I.VEHICLE_DETAIL}){return[I.TRANSPARENT,I.WHEEL,I.BODY,e.body,I.RIDER,I.HELMET,I.BIRD_BODY,I.BIRD_WING,e.detail,I.VEHICLE_WINDOW]}let P0=t0();const E={MOTORCYCLE_NORMAL:[[0,0,0,0,0,5,5,5,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,5,5,5,5,5,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,5,5,2,2,2,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,5,5,5,2,2,0,0,0,0,0,0,0,0,0,0,0],[2,0,0,0,0,5,5,5,5,0,0,0,0,0,0,0,0,0,0,0],[2,0,0,0,0,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0],[0,2,0,0,0,4,4,4,4,4,4,2,0,0,0,0,0,0,0,0],[0,2,0,0,0,4,4,4,0,0,0,0,2,0,0,0,0,0,0,0],[0,0,2,2,2,4,4,4,4,0,0,0,0,2,0,0,0,0,0,0],[0,2,2,2,2,4,4,4,4,4,2,2,2,2,1,0,0,0,0,0],[5,2,2,2,2,2,2,2,4,4,4,2,2,2,2,0,0,0,0,0],[0,1,1,2,2,2,2,2,2,4,4,2,2,2,2,2,1,1,1,0],[1,1,2,2,1,2,2,2,2,4,4,4,2,0,0,1,2,1,1,1],[1,1,2,1,1,0,0,0,0,0,2,2,0,0,0,1,1,2,1,1],[1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1],[0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0]],MOTORCYCLE_DUCK:[[0,0,0,0,0,0,5,5,5,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,5,5,2,2,2,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,5,5,5,2,2,0,0,0,0,0,0,0,0,0,0],[2,0,0,0,0,0,5,5,5,5,0,0,0,0,0,0,0,0,0,0],[0,2,0,0,0,0,4,4,4,4,4,2,0,0,0,0,0,0,0,0],[0,0,2,2,2,4,4,4,4,0,0,0,0,2,0,0,0,0,0,0],[0,2,2,2,2,4,4,4,4,4,2,2,2,2,1,0,0,0,0,0],[5,2,2,2,2,2,2,2,4,4,4,2,2,2,2,0,0,0,0,0],[0,1,1,2,2,2,2,2,2,4,4,2,2,2,2,2,1,1,1,0],[1,1,2,2,1,2,2,2,2,4,4,4,2,0,0,1,2,1,1,1],[1,1,2,1,1,0,0,0,0,0,2,2,0,0,0,1,1,2,1,1],[0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0]],CAR:[[0,0,0,0,0,0,8,8,8,8,8,0,0,0,0,0],[0,0,0,8,8,8,3,3,3,3,3,8,8,0,0,0],[0,0,0,9,3,9,9,3,9,9,9,3,9,0,0,0],[0,0,0,9,3,9,9,3,9,9,9,3,3,9,0,0],[0,0,9,3,9,9,9,3,9,9,9,9,3,3,9,0],[0,0,9,3,9,9,9,3,9,9,9,9,9,3,3,3],[3,3,3,3,3,3,3,8,3,3,3,3,3,3,3,3],[3,3,3,3,3,3,3,8,3,3,3,3,3,3,3,3],[0,1,1,1,3,3,3,8,3,3,3,1,1,1,0,0],[1,1,1,1,1,8,8,8,8,8,1,1,1,1,1,0],[1,1,1,1,1,0,0,0,0,0,1,1,1,1,1,0],[0,1,1,1,0,0,0,0,0,0,0,1,1,1,0,0]],TRUCK:[[0,0,0,0,0,0,3,3,3,3,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,8,3,3,3,3,3,0,0,0,0,0,0,0,0,0],[0,0,0,0,9,3,9,9,9,9,3,0,0,0,0,0,0,0,0,0],[0,0,0,0,9,3,9,9,9,9,3,0,0,0,0,0,0,0,0,0],[0,0,0,9,3,9,9,9,9,9,3,0,0,0,0,0,0,0,0,0],[0,0,0,9,3,9,9,9,9,9,3,8,8,8,8,8,8,8,8,0],[0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,8],[3,3,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,8],[0,1,1,1,1,3,3,3,3,3,3,3,3,3,3,1,1,1,1,8],[1,1,1,1,1,1,8,8,8,8,8,8,8,8,1,1,1,1,1,1],[1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1],[0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0]],VAN:[[0,0,0,0,0,0,8,8,8,8,8,8,8,8,8,8,8,8,8,8,0,0],[0,0,0,0,8,8,3,3,3,3,3,3,3,3,3,3,8,3,3,3,8,0],[0,0,0,9,3,9,9,9,3,3,3,3,3,3,3,8,3,9,9,3,3,8],[0,0,0,9,3,9,9,9,3,3,3,3,3,3,8,3,9,9,9,9,3,3],[0,0,9,3,9,9,9,9,3,3,3,3,3,8,3,3,9,9,9,9,3,3],[0,0,9,3,9,9,9,9,3,3,3,3,8,3,3,3,3,9,9,3,3,3],[3,3,3,3,3,3,3,3,3,3,3,8,3,3,3,3,3,3,3,3,3,3],[8,8,8,8,8,8,8,8,8,8,8,3,3,3,3,3,3,3,3,3,3,3],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,1,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,1,1,1,1,0],[1,1,1,1,1,1,8,8,8,8,8,8,8,8,8,8,1,1,1,1,1,1],[1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1],[0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0]],BUS:[[0,0,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,0],[0,8,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,8],[9,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3],[9,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3],[9,9,9,9,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3],[9,9,9,9,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3,9,9,9,3,3],[9,9,9,9,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[9,9,9,3,3,8,8,8,8,8,3,3,3,3,3,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],[9,9,3,3,3,8,9,8,9,8,3,3,3,3,8,3,3,3,3,3,8,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[9,9,3,3,3,8,9,8,9,8,3,3,3,8,3,3,3,3,3,8,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[3,3,3,3,3,8,3,8,3,8,3,3,8,3,3,3,3,3,8,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[3,1,1,1,1,8,3,8,3,8,8,8,8,8,8,8,8,8,8,8,8,8,8,3,3,3,3,3,1,1,1,1,3,3,3,1,1,1,1,3],[1,1,8,8,1,1,3,8,3,8,3,3,3,3,3,3,3,3,8,3,3,3,3,8,3,3,3,1,1,8,8,1,1,3,1,1,8,8,1,1],[1,1,8,8,1,1,3,8,3,8,3,3,3,3,3,3,3,3,3,8,3,3,3,3,8,3,3,1,1,8,8,1,1,3,1,1,8,8,1,1],[1,1,1,1,1,1,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1,1,1,1,1,1,8,1,1,1,1,1,1],[0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,1,1,1,1,0]],SEMI_TRUCK:[[0,0,0,8,8,8,8,8,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,0],[0,0,8,3,3,3,3,3,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,9,3,9,9,9,3,3,0,8,8,8,8,8,8,8,8,8,8,8,8,8,8,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,9,3,9,9,9,3,3,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,8,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,9,3,9,9,9,3,3,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,8,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[0,9,3,9,9,9,3,3,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,8,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[9,3,9,9,9,9,3,3,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,3],[9,3,9,9,9,9,3,3,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[3,3,3,3,3,3,3,3,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[8,3,3,3,3,3,3,3,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[8,3,3,3,3,3,3,3,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[8,3,3,3,3,3,3,3,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[3,1,1,1,1,3,3,3,3,0,0,0,0,0,0,1,1,1,1,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1,1,1,1,8,8,8,0],[1,1,1,1,1,1,3,3,3,3,3,3,3,3,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0],[1,1,8,8,1,1,3,3,3,3,3,3,3,3,1,1,8,8,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,8,8,1,1,0,0,0],[1,1,1,1,1,1,8,8,8,8,8,8,8,8,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0],[0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0]],BIRD_UP:[[0,0,0,0,0,0,0,6,0,0,0,0],[0,0,0,0,6,6,6,6,0,0,0,0],[0,0,6,6,6,6,6,0,0,0,0,0],[7,7,6,6,6,7,7,7,7,7,7,0],[0,7,7,7,7,7,7,7,0,0,0,0],[0,0,0,0,7,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0]],BIRD_DOWN:[[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,7,7,7,7,7,7,7,0,0,0,0],[7,7,6,6,6,7,7,7,7,7,7,0],[0,0,6,6,6,6,6,7,0,0,0,0],[0,0,0,0,6,6,6,6,0,0,0,0],[0,0,0,0,0,0,0,6,0,0,0,0]],BILLBOARD:[[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},u0="v0.23",s=document.getElementById("motorcycle-runner-canvas"),i=s.getContext("2d"),i0=document.getElementById("motorcycle-game-overlay"),Y0=document.getElementById("motorcycle-final-score"),b0=document.getElementById("motorcycle-daily-high-score"),G0=document.getElementById("motorcycle-all-time-high-score"),H0=document.getElementById("motorcycle-restart-btn"),S0=document.getElementById("motorcycle-orientation-overlay"),T0=document.getElementById("motorcycle-instructions"),o={INITIAL_SPEED:6,SPEED_INCREMENT:.5,SPEED_INCREASE_INTERVAL:300,SURVIVAL_POINTS_INTERVAL:5,VEHICLE_POINTS:50,RIDEABLE_VEHICLE_POINTS:100,FLYING_OBSTACLE_POINTS:75,RIDEABLE_VEHICLE_MIN_SCORE:300,FLYING_OBSTACLE_MIN_SCORE:100,DAY_NIGHT_BONUS:500,OBSTACLE_MIN_INTERVAL:60,OBSTACLE_MAX_INTERVAL:120,OBSTACLE_INTERVAL_DECREASE_RATE:.5,OBSTACLE_MIN_INTERVAL_CAP:40,GROUND_INTERVAL_MIN_SPACING:30,OBSTACLE_RETRY_DELAY:20,FLYING_OBSTACLE_MIN_INTERVAL:100,FLYING_OBSTACLE_MAX_INTERVAL:200,FLYING_OBSTACLE_SPEED_MULTIPLIER:1.2,FLYING_INTERVAL_MIN_CAP:60,FLYING_INTERVAL_MIN_SPACING:50,BIRD_WING_FLAP_FRAME_INTERVAL:10,SAFE_DISTANCE_BIRD_VEHICLE:300,FAST_FALL_GRAVITY:2.5,HITBOX_SIZE_RATIO:.7,SPRITE_SCALE:3,PARTICLE_SPAWN_INTERVAL:5,COLLISION_FLASH_DURATION:10,BONUS_MESSAGE_DURATION:300,GROUND_ROAD_WIDTH:40,GROUND_DASH_SPACING:40,GROUND_DASH_LENGTH:20,CENTER_LINE_WIDTH:3,SKY_DAY_COLOR:"#87CEEB",SKY_NIGHT_COLOR:"#1a1a2e",SKY_TRANSITION_SPEED:.01,SUN_Y_POSITION:60,SUN_RADIUS:30,SUN_MOON_SPEED:.5,SUN_START_X:100,MOON_CRESCENT_OFFSET:12,STAR_COUNT:50,STAR_MIN_SIZE:.5,STAR_MAX_SIZE:2,STAR_MIN_SPEED:.05,STAR_MAX_SPEED:.15,STAR_MIN_OPACITY:.5,STAR_MAX_OPACITY:1,DEBUG_MODE:!1},o0=new Map;function V0(e,t=o.SPRITE_SCALE,l=!1,r=null){const a=r||P0,d=r?r[3]+r[8]:"default",c=e+"_"+t+"_"+(l?"f":"n")+"_"+d;if(!o0.has(c)){const T=e[0].length*t,F=e.length*t,D=document.createElement("canvas");D.width=T,D.height=F;const M=D.getContext("2d");l&&(M.translate(T,0),M.scale(-1,1));for(let O=0;O<e.length;O++)for(let Y=0;Y<e[O].length;Y++){const j=e[O][Y];j!==0&&(M.fillStyle=a[j],M.fillRect(Y*t,O*t,t,t))}o0.set(c,D)}return o0.get(c)}function W(e,t,l,r=o.SPRITE_SCALE,a=!1,d=null){const c=V0(e,r,a,d);i.drawImage(c,Math.floor(t),Math.floor(l))}function N(e,t=o.SPRITE_SCALE){return{width:e[0].length*t,height:e.length*t}}const A={WAITING:"waiting",PLAYING:"playing",GAME_OVER:"gameOver"};let m=A.WAITING,f=0,n0=parseInt(localStorage.getItem("motorcycleHighScore"))||0,x=0,G=parseInt(localStorage.getItem("motorcycleAllTimeHighScore"))||0;function U0(){const e=new Date().toDateString();localStorage.getItem("motorcycleLastPlayDate")===e?x=parseInt(localStorage.getItem("motorcycleDailyHighScore"))||0:(x=0,localStorage.setItem("motorcycleLastPlayDate",e),localStorage.setItem("motorcycleDailyHighScore","0"))}U0();let h=0,w=o.INITIAL_SPEED,H=0,v=0,K=0,z=0,l0=o.OBSTACLE_MAX_INTERVAL,r0=o.FLYING_OBSTACLE_MAX_INTERVAL,a0=-1e3,s0=600;const A0=[["Eastside","Harley"],["Emerald City","Harley"],["Harley","Davidson","Motorcycles"],["Life is","short, roads","are long."],["Two wheels,","One love","#BikerLife"],["YOU GOT","THIS!"],["Eat. Sleep.","Ride.","Repeat."],["NICE","MOVES!"],["LEGENDARY!"],["STAY","FOCUSED!"],["KEEP","GOING!"],["RIDE ON!"],["SKILLED","RIDER!"],["TOO FAST!"],["BEAST","MODE!"],["DANGER","ZONE!"]],n={x:50,y:s.height-140,velocityY:0,gravity:.8,jumpPower:-15,isJumping:!1,isDucking:!1,groundY:s.height-140,duckHeight:40,normalHeight:60,isRidingVehicle:!1,ridingVehicle:null};let u=[];function k0(){return[{sprite:"CAR",...N(E.CAR),type:"vehicle",rideable:!1},{sprite:"TRUCK",...N(E.TRUCK),type:"vehicle",rideable:!1},{sprite:"VAN",...N(E.VAN),type:"vehicle",rideable:!1},{sprite:"BUS",...N(E.BUS),type:"vehicle",rideable:!0},{sprite:"SEMI_TRUCK",...N(E.SEMI_TRUCK),type:"vehicle",rideable:!0}]}const J=k0();let y=[];const c0={...N(E.BIRD_UP),heightVariations:[-140,-120,-100,-60,-40]};let C=[];const p=s.height-80;let R=s.width-100,L=!1,d0=!1,Z=!1,S=0;const g={DAY:o.SKY_DAY_COLOR,NIGHT:o.SKY_NIGHT_COLOR,TEXT_DAY:"#2d2d2d",TEXT_NIGHT:"#ffffff",SUN_CORE:"#FFD700",SUN_GLOW:["rgba(255, 255, 150, 0.8)","rgba(255, 220, 100, 0.4)","rgba(255, 200, 80, 0.2)","rgba(255, 180, 60, 0)"],MOON:"#F0E68C",STAR:"rgba(255, 255, 255, {opacity})"};let V=[],B=[],U=[];function k(e,t,l){const r=parseInt(e.slice(1),16),a=parseInt(t.slice(1),16),d=r>>16&255,c=r>>8&255,T=r&255,F=a>>16&255,D=a>>8&255,M=a&255,O=Math.round(d+(F-d)*l),Y=Math.round(c+(D-c)*l),j=Math.round(T+(M-T)*l);return`#${(O<<16|Y<<8|j).toString(16).padStart(6,"0")}`}class F0{constructor(t,l,r,a,d,c){this.x=t,this.y=l,this.vx=r,this.vy=a,this.color=d,this.life=c,this.maxLife=c,this.size=2}update(){return this.x+=this.vx,this.y+=this.vy,this.vy+=.1,this.life--,this.life>0}draw(){const t=this.life/this.maxLife;i.globalAlpha=t,i.fillStyle=this.color,i.fillRect(this.x,this.y,this.size,this.size),i.globalAlpha=1}}class X0{constructor(t,l,r,a=o.BONUS_MESSAGE_DURATION){this.text=t,this.x=l,this.y=r,this.initialY=r,this.duration=a,this.maxDuration=a,this.vy=-.3,this.maxUpwardMovement=40}update(){return this.initialY-this.y<this.maxUpwardMovement&&(this.y+=this.vy),this.duration--,this.duration>0}draw(){let t=1;const l=this.maxDuration*.05,r=this.maxDuration*.475;this.maxDuration-this.duration<l?t=(this.maxDuration-this.duration)/l:this.duration<r&&(t=this.duration/r),i.save(),i.globalAlpha=t,i.font="bold 48px monospace",i.textAlign="center",i.textBaseline="middle",i.fillStyle=k(g.TEXT_DAY,g.TEXT_NIGHT,S),i.fillText(this.text,this.x,this.y),i.restore()}}function W0(){h%o.PARTICLE_SPAWN_INTERVAL===0&&!n.isJumping&&B.push(new F0(n.x+10,p+5,-2-Math.random()*2,-1-Math.random()*2,"rgb(194, 178, 128)",20))}function K0(){for(let e=B.length-1;e>=0;e--)B[e].update()||B.splice(e,1)}function z0(){B.forEach(e=>e.draw())}const P={};function h0(e){return e[Math.floor(Math.random()*e.length)]}function y0(e,t=o.HITBOX_SIZE_RATIO,l=null,r=null){const a=e.width*t,d=e.height*t;return{width:a,height:d,offsetX:l!==null?l:(e.width-a)/2,offsetY:r!==null?r:(e.height-d)/2}}function p0(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}const J0=N(E.MOTORCYCLE_NORMAL),Z0=N(E.MOTORCYCLE_DUCK),$0=y0(J0,o.HITBOX_SIZE_RATIO,1,4),j0=y0(Z0,o.HITBOX_SIZE_RATIO,1,3);function N0(){const e=n.isDucking?j0:$0;return{x:n.x+e.offsetX,y:n.y+e.offsetY,width:e.width,height:e.height}}function m0(e,t,l,r){const a=Math.floor(h/o.SPEED_INCREASE_INTERVAL),d=Math.max(l,e-a*o.OBSTACLE_INTERVAL_DECREASE_RATE),c=Math.max(d+r,t-a*o.OBSTACLE_INTERVAL_DECREASE_RATE);return Math.random()*(c-d)+d}function R0(e){if(e.length===0)return!1;const t=e[e.length-1],l=t.x+t.width;return s.width-l<o.SAFE_DISTANCE_BIRD_VEHICLE||s.width-a0<o.SAFE_DISTANCE_BIRD_VEHICLE+200}function L0(){!n.isJumping&&!n.isDucking&&(n.velocityY=n.jumpPower,n.isJumping=!0,n.isRidingVehicle&&(n.isRidingVehicle=!1,n.ridingVehicle=null))}document.addEventListener("keydown",e=>{P[e.code]=!0,m===A.WAITING&&e.code==="Space"&&f0(),m===A.PLAYING&&(e.code==="Space"||e.code==="ArrowUp")&&L0(),["Space","ArrowUp","ArrowDown"].includes(e.code)&&e.preventDefault()}),document.addEventListener("keyup",e=>{P[e.code]=!1});let E0=!1;s.addEventListener("touchstart",e=>{if(e.preventDefault(),m===A.WAITING){f0();return}if(m===A.PLAYING){const t=e.touches[0],l=s.getBoundingClientRect(),r=t.clientY-l.top,a=l.height/2;r>a?(E0=!0,P.ArrowDown=!0):L0()}}),s.addEventListener("touchend",e=>{e.preventDefault(),E0&&(P.ArrowDown=!1,E0=!1)}),H0.addEventListener("click",()=>{i0.style.display="none",T0.style.display="block",f0()});function f0(){$()&&(m=A.PLAYING,T0.style.display="none",window.dispatchEvent(new CustomEvent("motorcyclegamestart")),f=0,h=0,R=s.width-o.SUN_START_X,L=!1,d0=!1,Z=!1,S=0,V=[],w=o.INITIAL_SPEED,u=[],y=[],C=[],B=[],U=[],H=0,v=0,n.y=n.groundY,n.velocityY=0,n.isJumping=!1,n.isDucking=!1,n.isRidingVehicle=!1,n.ridingVehicle=null,K=o.OBSTACLE_MAX_INTERVAL,z=o.FLYING_OBSTACLE_MAX_INTERVAL+o.FLYING_OBSTACLE_MIN_SCORE,l0=o.OBSTACLE_MAX_INTERVAL,r0=o.FLYING_OBSTACLE_MAX_INTERVAL,a0=-1e3,s0=900,i0.style.display="none",M0())}function O0(e,t,l){const r=Math.floor(Math.random()*(l-t+1))+t,a=J.filter(c=>c.sprite==="CAR"||c.sprite==="TRUCK"||c.sprite==="VAN");let d=e.x+e.width;for(let c=0;c<r;c++){const T=h0(a),F=I0(),D=t0(F),O=d+30;u.push({x:O,y:p-T.height,width:T.width,height:T.height,sprite:T.sprite,type:T.type,rideable:T.rideable,flipH:!1,palette:D}),d=O+T.width}a0=d}function q0(){if(h>=K)if(R0(y))K=h+o.OBSTACLE_RETRY_DELAY;else{let e=J;f>=o.RIDEABLE_VEHICLE_MIN_SCORE?e=J:e=J.filter(c=>!c.rideable);const t=h0(e),l=I0(),r=t0(l),a={x:s.width,y:p-t.height,width:t.width,height:t.height,sprite:t.sprite,type:t.type,rideable:t.rideable,flipH:!1,palette:r};u.push(a);const d=h/60;if(d>=15&&t.sprite==="SEMI_TRUCK"){const c=d>=60?3:2;O0(a,1,c)}if(d>=30&&t.sprite==="BUS"){const c=d>=60?3:2;O0(a,1,c)}l0=m0(o.OBSTACLE_MIN_INTERVAL,o.OBSTACLE_MAX_INTERVAL,o.OBSTACLE_MIN_INTERVAL_CAP,o.GROUND_INTERVAL_MIN_SPACING),K=h+l0}if(f>o.FLYING_OBSTACLE_MIN_SCORE&&h>=z)if(R0(u))z=h+o.OBSTACLE_RETRY_DELAY;else{const e=h0(c0.heightVariations);y.push({x:s.width,y:p+e,width:c0.width,height:c0.height,wingFrame:0}),r0=m0(o.FLYING_OBSTACLE_MIN_INTERVAL,o.FLYING_OBSTACLE_MAX_INTERVAL,o.FLYING_INTERVAL_MIN_CAP,o.FLYING_INTERVAL_MIN_SPACING),z=h+r0}if(h>=s0){const e=N(E.BILLBOARD),t=A0[Math.floor(Math.random()*A0.length)];C.push({x:s.width,y:p-e.height-20,width:e.width,height:e.height,message:t}),s0=h+900}}function Q0(){const e=w*1.3;for(let t=u.length-1;t>=0;t--)if(u[t].x-=e,u[t].x+u[t].width<0){const l=u[t].rideable?o.RIDEABLE_VEHICLE_POINTS:o.VEHICLE_POINTS;u.splice(t,1),f+=l}for(let t=y.length-1;t>=0;t--)y[t].x-=w*o.FLYING_OBSTACLE_SPEED_MULTIPLIER,y[t].wingFrame=Math.floor(h/o.BIRD_WING_FLAP_FRAME_INTERVAL)%2,y[t].x+y[t].width<0&&(y.splice(t,1),f+=o.FLYING_OBSTACLE_POINTS);for(let t=C.length-1;t>=0;t--)C[t].x-=w*.7,C[t].x+C[t].width<0&&C.splice(t,1)}function ee(){if(n.isRidingVehicle&&n.ridingVehicle){const e=n.ridingVehicle;if(e.x+e.width<n.x)n.isRidingVehicle=!1,n.ridingVehicle=null,n.isJumping=!0,n.velocityY=0;else{const l=n.isDucking?n.duckHeight:n.normalHeight;n.y=e.y-l-1}}if(!n.isRidingVehicle&&P.ArrowDown&&!n.isJumping?(n.isDucking=!0,n.y=n.groundY+(n.normalHeight-n.duckHeight)):!n.isJumping&&!n.isRidingVehicle&&(n.isDucking=!1,n.y=n.groundY),n.isJumping){const e=P.ArrowDown?o.FAST_FALL_GRAVITY:n.gravity;n.velocityY+=e,n.y+=n.velocityY,n.y>=n.groundY&&(n.y=n.groundY,n.velocityY=0,n.isJumping=!1,n.isRidingVehicle=!1,n.ridingVehicle=null,v=8)}v>0&&v--}function te(){const e=N0();for(let t of u){if(t.rideable&&n.isJumping&&n.velocityY>0&&e.x+e.width>t.x&&e.x<t.x+t.width&&e.y+e.height<=t.y+10&&e.y+e.height>=t.y-5){n.isRidingVehicle=!0,n.ridingVehicle=t,n.isJumping=!1,n.velocityY=0;continue}if(!n.isRidingVehicle&&p0(e,t)){C0();return}}for(let t of y)if(p0(e,t)){C0();return}}function C0(){m=A.GAME_OVER,H=o.COLLISION_FLASH_DURATION,f>n0&&(n0=f,localStorage.setItem("motorcycleHighScore",n0)),f>x&&(x=f,localStorage.setItem("motorcycleDailyHighScore",x)),f>G&&(G=f,localStorage.setItem("motorcycleAllTimeHighScore",G)),Y0.textContent=`Score: ${f}`,b0.textContent=`Best Today: ${x}`,G0.textContent=`Best Ever: ${G}`,i0.style.display="block",window.dispatchEvent(new CustomEvent("motorcyclegameover"))}function D0(){const e=n.isDucking||v>0?E.MOTORCYCLE_DUCK:E.MOTORCYCLE_NORMAL;let t=n.y;if(v>0&&!n.isDucking){const l=N(E.MOTORCYCLE_NORMAL).height,r=N(E.MOTORCYCLE_DUCK).height;t+=l-r}H>0&&(H%2===0&&(i.globalAlpha=.3),H--),W(e,n.x,t),i.globalAlpha=1}function ie(){u.forEach(e=>{const t=E[e.sprite];t&&W(t,e.x,e.y,o.SPRITE_SCALE,e.flipH,e.palette)}),y.forEach(e=>{const t=e.wingFrame===0?E.BIRD_UP:E.BIRD_DOWN;W(t,e.x,e.y)})}function oe(){C.forEach(e=>{W(E.BILLBOARD,e.x,e.y),i.fillStyle="#f5f5f5";const t=6;i.fillRect(e.x+t,e.y+t,e.width-t*2,e.height-t*2-30),i.fillStyle="#2d2d2d",i.font="bold 23px Courier New",i.textAlign="center",i.textBaseline="middle";const l=e.x+e.width/2,r=e.height-30,a=e.y+r/2;e.message.length===1?i.fillText(e.message[0],l,a):e.message.length===2?(i.fillText(e.message[0],l,a-12),i.fillText(e.message[1],l,a+12)):e.message.length===3&&(i.fillText(e.message[0],l,a-18),i.fillText(e.message[1],l,a),i.fillText(e.message[2],l,a+18)),i.textBaseline="alphabetic"})}function ne(){const e=o.SUN_Y_POSITION,t=o.SUN_RADIUS;if(L)i.fillStyle=g.MOON,i.beginPath(),i.arc(R,e,t,0,Math.PI*2),i.fill(),i.fillStyle=k(g.DAY,g.NIGHT,S),i.beginPath(),i.arc(R+o.MOON_CRESCENT_OFFSET,e,t,0,Math.PI*2),i.fill();else{const l=i.createRadialGradient(R,e,t*.3,R,e,t*2);l.addColorStop(0,g.SUN_GLOW[0]),l.addColorStop(.3,g.SUN_GLOW[1]),l.addColorStop(.6,g.SUN_GLOW[2]),l.addColorStop(1,g.SUN_GLOW[3]),i.fillStyle=l,i.beginPath(),i.arc(R,e,t*2,0,Math.PI*2),i.fill(),i.fillStyle=g.SUN_CORE,i.beginPath(),i.arc(R,e,t,0,Math.PI*2),i.fill()}}function le(){L&&V.forEach(e=>{i.fillStyle=`rgba(255, 255, 255, ${e.opacity})`,i.beginPath(),i.arc(e.x,e.y,e.size,0,Math.PI*2),i.fill()})}function re(){L&&V.forEach(e=>{e.x-=e.speed,e.x<-10&&(e.x=s.width+10)})}function ae(){R-=o.SUN_MOON_SPEED,R<=o.SUN_START_X&&(L=!L,L&&se(),R=s.width-o.SUN_START_X,d0!==L&&f>0&&(Z=!0),d0=L);const e=L?1:0;if(S<e?S=Math.min(S+o.SKY_TRANSITION_SPEED,e):S>e&&(S=Math.max(S-o.SKY_TRANSITION_SPEED,e)),Z&&S===e){f+=o.DAY_NIGHT_BONUS;const t=s.width/2,l=p/3;U.push(new X0("Bonus +500",t,l)),Z=!1}re()}function se(){V=[];for(let e=0;e<o.STAR_COUNT;e++)V.push({x:Math.random()*s.width,y:Math.random()*(p-100),size:Math.random()*(o.STAR_MAX_SIZE-o.STAR_MIN_SIZE)+o.STAR_MIN_SIZE,speed:Math.random()*(o.STAR_MAX_SPEED-o.STAR_MIN_SPEED)+o.STAR_MIN_SPEED,opacity:Math.random()*(o.STAR_MAX_OPACITY-o.STAR_MIN_OPACITY)+o.STAR_MIN_OPACITY})}function x0(){i.strokeStyle=I.GROUND_LINE,i.lineWidth=o.GROUND_ROAD_WIDTH,i.beginPath(),i.moveTo(0,p),i.lineTo(s.width,p),i.stroke(),i.strokeStyle=I.CENTER_LINE,i.lineWidth=o.CENTER_LINE_WIDTH,i.beginPath();const e=h*w%o.GROUND_DASH_SPACING;for(let t=-e;t<s.width;t+=o.GROUND_DASH_SPACING)i.moveTo(t,p),i.lineTo(t+o.GROUND_DASH_LENGTH,p);i.stroke()}function ce(){i.fillStyle=k(g.TEXT_DAY,g.TEXT_NIGHT,S),i.font="bold 18px Courier New",i.textAlign="center",i.fillText(`Score: ${f}`,s.width/2,30),i.font="12px Courier New",i.fillText(`Best Today: ${x}`,s.width/2,46),i.fillText(`Best Ever: ${G}`,s.width/2,62),o.DEBUG_MODE&&(i.font="bold 18px Courier New",i.textAlign="left",i.fillText(`Speed: ${w.toFixed(1)}`,20,30))}function de(){i.fillStyle=k(g.TEXT_DAY,g.TEXT_NIGHT,S),i.font="14px Courier New",i.textAlign="right",i.fillText(u0,s.width-10,s.height-10)}function he(){if(!o.DEBUG_MODE)return;const e=N0();i.strokeStyle="rgba(255, 0, 0, 0.5)",i.lineWidth=2,i.strokeRect(e.x,e.y,e.width,e.height),i.strokeStyle="rgba(0, 255, 0, 0.5)",u.forEach(t=>{i.strokeRect(t.x,t.y,t.width,t.height)}),y.forEach(t=>{i.strokeRect(t.x,t.y,t.width,t.height)})}function Ee(){i.fillStyle=I.TEXT,i.font="bold 32px Courier New",i.textAlign="center",i.fillText("Press SPACE to Start",s.width/2,s.height/2-50),i.font="12px Courier New",i.fillText(u0,s.width/2,s.height/2-10),x0(),D0()}function w0(){if(i.clearRect(0,0,s.width,s.height),i.fillStyle=k(g.DAY,g.NIGHT,S),i.fillRect(0,0,s.width,p),m===A.WAITING){Ee();return}le(),ne(),oe(),x0(),z0(),D0(),ie(),U.forEach(e=>e.draw()),ce(),de(),he()}function fe(){if(m===A.PLAYING){if(h++,ae(),h%o.SURVIVAL_POINTS_INTERVAL===0&&f++,h%o.SPEED_INCREASE_INTERVAL===0){const t=h/60>=30?o.SPEED_INCREMENT*.5:o.SPEED_INCREMENT;w+=t}ee(),Q0(),q0(),W0(),K0(),U=U.filter(e=>e.update()),te()}}function ge(){return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)?screen.orientation&&screen.orientation.type?screen.orientation.type.includes("landscape"):window.orientation!==void 0?Math.abs(window.orientation)===90:window.innerWidth>window.innerHeight:!0}function $(){return ge()?(S0.style.display="none",!0):(S0.style.display="block",m===A.PLAYING&&(m=A.WAITING),!1)}function M0(){fe(),w0(),m===A.PLAYING&&requestAnimationFrame(M0)}w0(),$(),window.addEventListener("orientationchange",$),window.addEventListener("resize",$)})()}window.MotorcycleRunner={show:g0,hide:Q,version:"0.12"},console.log("Motorcycle Runner loaded. Press SPACEBAR to play!")})();
